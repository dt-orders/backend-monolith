<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
	layout:decorator="orderLayout">
<head>
<title>Order</title>
</head>
<body>
	<h1 layout:fragment="header">Order</h1>
	<div layout:fragment="content" class="container">
		<table class="table table-bordered table-striped">
			<thead>
				<tr>
					<td>Customer</td>
					<td>Total price</td>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td th:text="${@customerClient.getOne(order.customerId).firstname}+' '+${@customerClient.getOne(order.customerId).name}">Customer</td>
					<td th:text="${order.totalPrice(@catalogClient)}">Total price</td>
				</tr>
			</tbody>
		</table>
		<h2>Order Items</h2>
		<table class="table table-bordered table-striped">
			<thead>
				<tr>
					<td>Item</td>
					<td>Quantity</td>
					<td>Price</td>
				</tr>
			</thead>
			<tbody>
				<tr th:each="orderLine : ${order.orderLine}">
					<td th:text="${@catalogClient.getOne(orderLine.itemId).name}">Item</td>
					<td th:text="${orderLine.count}">Quantity</td>
					<td th:text="${@catalogClient.getOne(orderLine.itemId).price}">Price</td>

				</tr>
			</tbody>
		</table>
	</div>
</body>
</html>